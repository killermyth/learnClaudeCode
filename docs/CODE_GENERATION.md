# 代码生成策略

## 核心原则

### 1. 增量修改
- 优先使用`replace_string_in_file`进行局部修改
- 避免重写整个文件
- 保留原有代码结构

### 2. 上下文管理
- 包含修改前后的足够上下文
- 确保唯一标识修改位置
- 避免歧义

### 3. 代码质量
- 遵循项目编码规范
- 添加必要的类型注解
- 包含错误处理

## 修改策略

### 单个修改
```
使用 replace_string_in_file 工具
包含3-5行上下文
保证唯一性
```

### 多个修改
```
使用 multi_replace_string_in_file 工具
批量执行多个替换
提高效率
```

### 大规模重构
```
1. 分析现有代码结构
2. 制定重构计划
3. 分步实施修改
4. 验证修改效果
```

## 文件创建

### 新文件创建
- 使用`create_file`工具
- 完整实现文件内容
- 保证代码完整性

### 结构化内容
- 合理组织代码结构
- 添加必要注释
- 提供清晰的API

## 验证与测试

### 代码验证
- 检查语法正确性
- 验证导入依赖
- 测试执行结果

### 测试策略
- 创建测试用例
- 验证功能完整性
- 处理边界情况
